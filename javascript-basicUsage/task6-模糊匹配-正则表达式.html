<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>任务六：基础JavaScript练习-模糊匹配-正则表达式</title>
<style type="text/css">
#content{
	width: 200px;
	height: 200px;
	border: 1px solid black;

}
#content .span{
	color:red; 
}
</style>
</head>
<body>
<div>
	<h2>任务描述</h2>
	<ul>
		<li>允许一次批量输入多个内容，格式可以为数字、中文、英文等，可以通过用回车，逗号（全角半角均可），顿号，空格（全角半角、Tab等均可）等符号作为不同内容的间隔</li>
		<li>当点击查询时，将查询词在各个元素内容中做模糊匹配，将匹配到的内容进行特殊标识，如文字颜色等。举例，内容中有abcd，查询词为ab或bc，则该内容需要标识</li>
	</ul>
</div>
<hr/>
<div  id="content" contenteditable="true";></div>
<input type="text" name="search" id="keyword"><button id="btn">查询</button>

<button id="test">test</button>
<script type="text/javascript">
	var btn=document.getElementById("btn");
	var keyword=document.getElementById("keyword");
	var content=document.getElementById("content");
	var data=[];
	var result=[];
	btn.onclick=function(){

		var before=content.innerHTML.trimRight().replace(/<[^<]*>/gi,"");//替换标签为空
		console.log("before:"+before);
		var pattern=/keyword.value/g;
		var highlight="<span class='span'>"+keyword.value+"</span>";//匹配字体红色
		//data=content.innerHTML.split(/[^\u4E00-\u9FA5A-Za-z0-9]/g);
		
		var result=before.replace(eval('/'+keyword.value+'/g'),highlight);
		content.innerHTML=result;
	}


</script>
</body>
</html>